# 📝 バージョン3.0 リリースノート

**リリース日**: 2025年1月27日

## 🎉 新機能

### 📋 読みテストモード（NEW!）

漢字の「読み方」に特化した新しいテストモードを追加しました！

#### 特徴
- **20問固定**：左右10問ずつの2カラムレイアウト
- **漢字表記**：例文中の漢字をそのまま表示（従来はカタカナ穴埋め）
- **解答用紙自動生成**：正解の読みを別ページに表示
- **A4横向き・縦書き対応**：従来の印刷フォーマットを継承

#### 使用方法

1. **モード選択**
   ```
   画面上部で「👀 読みテスト（20問）」を選択
   ```

2. **問題数設定**
   ```
   自動的に20問に設定されます
   学年別の内訳は自由に調整可能
   例：小1（10問）、小2（10問）
   ```

3. **プリント生成**
   ```
   - 1ページ目：問題用紙（20問）
   - 2ページ目：解答用紙（正解一覧）
   ```

### 🔄 モード切り替え機能

2つのテストモードから目的に合わせて選択できます。

| モード | 用途 | レイアウト |
|--------|------|------------|
| ✍️ **漢字練習** | 書く練習 | 左：練習欄、右：書きテスト |
| 👀 **読みテスト** | 読み練習 | 左右：読み問題（20問） |

### 💾 モード設定の記憶

- 前回選択したモードを自動的に記憶
- LocalStorageに保存（ブラウザ閉じても維持）

## 🛠️ 技術的改良

### アーキテクチャ
```javascript
// モジュール化された設計
const TEST_MODES = {
    PRACTICE: {...},  // 漢字練習モード
    READING: {...},   // 読みテストモード
    // 将来拡張: MIXED（書き+読み複合）
};
```

### カタカナ→漢字変換ロジック
```javascript
// 例文中のカタカナを漢字に復元
restoreKatakanaToKanji("兄ダイがいる", "弟", "ダイ")
// → "兄弟がいる"
```

### データ構造
```javascript
// 読みテスト用の問題データ
{
    kanji: "弟",
    sentence: "兄弟がいる",  // 漢字表記
    reading: "だい",         // 正解の読み
    readingType: "onyomi"    // 音読み/訓読み
}
```

## 📦 ファイル変更

### 変更されたファイル
- `index.html` - モード選択UIの追加
- `style.css` - 読みテストレイアウト、解答用紙スタイル
- `app.js` - モード切り替え、読みテスト生成ロジック
- `README.md` - 新機能の説明追加

### ファイルサイズ
- `index.html`: 22.4 KB（+0.8 KB）
- `style.css`: 25.3 KB（+3.3 KB）
- `app.js`: 82.3 KB（+15.3 KB）

## 🔮 将来の拡張予定

### 複合テストモード（Version 4.0）
```
┌──────────────┬──────────────┐
│ 左側: 書きテスト│ 右側: 読みテスト│
│                │                │
│ 1. サ●ナが泳ぐ │ 11. 心が痛む   │
│    (    )      │     (    )     │
└──────────────┴──────────────┘
```

このモードでは：
- 左半分：漢字の書き取り（カタカナ穴埋め）
- 右半分：漢字の読み取り（漢字表記）
- 1枚で両方の習熟度をチェック可能

## 🐛 既知の問題

現在、既知の問題はありません。

## 📞 サポート

質問やバグ報告は以下までお願いします：
- **開発者**: 鈴木政路（プログラミングのKOBEYA）
- **GitHub**: https://github.com/kobeyabkk/kanji-kobeya

## 🙏 謝辞

このバージョンは、教室の生徒たちからのフィードバックを元に開発されました。
「読み方が難しい」という声に応えて、読み特化のテストモードを実装しました。

---

**Happy Learning!** 📚✨
